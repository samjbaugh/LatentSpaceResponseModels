n1=dim(strategy_gird)[1]
n1=dim(strategy_grid)[1]
strategy_grid
strategy_grid=strategy_grid[-1]
strategy_grid
strategy_grid=rbind(c(60,60,60,60)-c(0,1,2,3)*ticket_price,
c(0,30,20,15)-c(0,1,2,3)*ticket_price,
c(0,40,30,24)-c(0,1,2,3)*ticket_price,
c(0,45,36,30)-c(0,1,2,3)*ticket_price)
strategy_grid
strategy_grid[i]
strategy_grid[i,]
i=2
strategy_grid[i,]
ticket_price=10
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_rice,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
strategy_grid
ticket_price=10
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_rice,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
n1=dim(strategy_gri
strategy_grid
ticket_price=10
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_pr
ticket_price=10
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
strategy_grid
strictly_dominated_strategies=rep(False,nA)
strictly_dominated_strategies=rep(false,nA)
strictly_dominated_strategies=rep(FALSE,nA)
strictkly_dominated_strategies=c(FALSE,FALSE,TRUE,FALSE)
strictkly_dominated_strategies
strateg_grid
strategy_grid
strategy_grid[strictkly_dominated_strategies]
strategy_grid[~strictkly_dominated_strategies]
strategy_grid[!strictkly_dominated_strategies]
strategy_grid[!strictkly_dominated_strategies,]
t(strategy_grid)
strategy_grid=strategy_grid[,!strictkly_dominated_strategies]
strategy_grid
ticket_price=10
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
nA=dim(strategy_grid)[1]
nB=dim(strategy_grid)[2]
strictly_dominated_strategies=rep(FALSE,nA)
for(i in 1:nA)
{
for(j in 1:nA)
{
if(all(strategy_grid[i,]<strategy_grid[j,]))
{
print(paste(toString(i),"is dominated by",toString(j)))
strictly_dominated_strategies[i]=TRUE
}
}
}
strategy_grid=strategy_grid[,!strictkly_dominated_strategies]
strategy_grid
strategy_grid=strategy_grid[,!strictkly_dominated_strategies]
ticket_price=10
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
nA=dim(strategy_grid)[1]
nB=dim(strategy_grid)[2]
strictly_dominated_strategies=rep(FALSE,nA)
for(i in 1:nA)
{
for(j in 1:nA)
{
if(all(strategy_grid[i,]<strategy_grid[j,]))
{
print(paste(toString(i),"is dominated by",toString(j)))
strictly_dominated_strategies[i]=TRUE
}
}
}
strategy_grid=strategy_grid[,!strictkly_dominated_strategies]
strategy_grid
strictkly_dominated_strategies
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
strategy_grid
nA=dim(strategy_grid)[1]
nB=dim(strategy_grid)[2]
strictly_dominated_strategies=rep(FALSE,nA)
for(i in 1:nA)
{
for(j in 1:nA)
{
if(all(strategy_grid[i,]<strategy_grid[j,]))
{
print(paste(toString(i),"is dominated by",toString(j)))
strictly_dominated_strategies[i]=TRUE
}
}
}
strategy_grid=strategy_grid[,!strictly_dominated_strategies]
nA=dim(strategy_grid)[1]
nB=dim(strategy_grid)[2]
strictly_dominated_strategies=rep(FALSE,nA)
for(i in 1:nA)
{
for(j in 1:nA)
{
if(all(strategy_grid[i,]<strategy_grid[j,]))
{
print(paste(toString(i),"is dominated by",toString(j)))
strictly_dominated_strategies[i]=TRUE
}
}
}
strategy_grid=strategy_grid[,!strictly_dominated_strategies]
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
strategy_grid
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
strategy_grid
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
strictly_dominated_strategiesA
c(0,1,2,3)[strictly_dominated_strategiesA]
c(0,1,2,3)[!strictly_dominated_strategiesA]
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
ticket_price=0
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
nA=dim(strategy_grid)[1]
nB=dim(strategy_grid)[2]
strictly_dominated_strategiesA=rep(FALSE,nA)
for(i in 1:nA)
{
for(j in 1:nA)
{
if(all(strategy_grid[i,]<strategy_grid[j,]))
{
print(paste(toString(i),"is dominated by",toString(j)))
strictly_dominated_strategiesA[i]=TRUE
}
}
}
strategy_grid=strategy_grid[,!strictly_dominated_strategiesA]
strategy_grid
strictly_dominated_strategiesA
ticket_price=0
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
nA=dim(strategy_grid)[1]
nB=dim(strategy_grid)[2]
strictly_dominated_strategiesA=rep(FALSE,nA)
for(i in 1:nA)
{
for(j in 1:nA)
{
if(all(strategy_grid[i,]<strategy_grid[j,]))
{
print(paste(toString(i),"is dominated by",toString(j)))
strictly_dominated_strategiesA[i]=TRUE
}
}
}
strategy_grid=strategy_grid[,!strictly_dominated_strategiesA]
strictly_dominated_strategiesA
ticket_price=0
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
strategy_grid
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/Game Theory/hw2_problem1_code.R', echo=TRUE)
ticket_price=12
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
strategy_grid
ticket_price=15
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
print(strategy_grid)
ticket_price=30
strategy_grid=rbind(c(0,0,0,0)-0*ticket_price,
c(60,30,20,15)-1*ticket_price,
c(60,40,30,24)-2*ticket_price,
c(60,45,36,30)-3*ticket_price)
print(strategy_grid)
x.range <- as.integer(range(a[,1]))
y.range <- as.integer(range(a[,2]))
grd <- expand.grid(x=seq(from=x.range[1], to=x.range[2], by=.1),
y=seq(from=y.range[1], to=y.range[2], by=.1))
x.range <- c(0,1)
y.range <- c(0,1)
grd <- expand.grid(x=seq(from=x.range[1], to=x.range[2], by=.1),
y=seq(from=y.range[1], to=y.range[2], by=.1))
require('gstat')
gstat(id="log_lead",formula=log(lead)~1,locations=~x+y,data=a)
a <- read.table("http://www.stat.ucla.edu/~nchristo/statistics_c173_c273/soil.txt", header=TRUE)
gstat(id="log_lead",formula=log(lead)~1,locations=~x+y,data=a)
help(gstat)
source('C:/Users/samjb/Dropbox/Argo Project/Rcode/argo_r_starter_code.R', echo=TRUE)
install.packages('R.matlab')
source('C:/Users/samjb/Dropbox/Argo Project/Rcode/argo_r_starter_code.R', echo=TRUE)
pmean <- ggplot()
pmean <- ggplot()
plot_region<-map("world",add=TRUE,col="black",fill=TRUE)
require('maps')
plot_region<-map("world",add=TRUE,col="black",fill=TRUE)
# p0 <- p0 + geom_polygon(data=plot_region,aes(x=long, y=lat, group = group),colour="black", fill="white" )
p0 <- ggplot()
p0 <- p0 + map("world",add=TRUE,col="black",fill=TRUE)
p0 <- p0 + geom_point(aes(x=lon,y=lat,color=mean_mean),cex=2,station_dat,alpha=.5) # + scale_colour_gradient(low = "white", high = "black")
p0 <- p0 + ggtitle('Mean Streamflow over 1950-2019')+labs(color="Mean Streamflow")+xlab('longitude')+ylab('latitude')
savePlot(p0,'mean_plot.png')
p0 <- ggplot()
p0 <- p0 + map("world",add=TRUE,col="black",fill=TRUE)
p0 <- p0 + geom_point(aes(x=lon,y=lat,color=mean_mean),cex=2,station_dat,alpha=.5) # + scale_colour_gradient(low = "white", high = "black")
p0 <- ggplot()
require('ggplot2')
p0 <- ggplot()
p0 <- p0 + map("world",add=TRUE,col="black",fill=TRUE)
# p0 <- p0 + geom_polygon(data=plot_region,aes(x=long, y=lat, group = group),colour="black", fill="white" )
p0 <- ggplot()
p0 <- p0 + borders("world",fill="black",colour="black")
p0
mat_object
load('january_argo_data.Rdat')
load('./MatData/january_argo_data.Rdat')
setwd('/home/sam/Dropbox/Argo Project')
A=matrix(rnorm(10000*10000),10000,10000
)
A=A+t(A)
system.time({chol(A)})
A=A+n*diag(n)
n=10000
diag(5)
A=A+n*diag(n)
system.time({chol(A)})
install.packages('vgam')
install.packages('VGAM')
require('VGAM')
help('erf')
for(i in 1:1000){a=a+rnorm(1)}
system.time({for(i in 1:10000){a=a+rnorm(1)}})
erf(rnorm(1))
erf(rnorm(1))
erf(rnorm(1))
system.time({for(i in 1:10000){a=a+erf(rnorm(1))}})
system.time({for(i in 1:10000){a=a+erf(rnorm(1))}})
erf
help('qnorm')
help('pnorm')
system.time({for(i in 1:1000){a=a+erf(rnorm(1))}})
system.time({for(i in 1:1000){a=a+(rnorm(1))}})
nums=rep(rnorm(1),100)
nums
nums=rnorm(1000)
system.time({for(i in 1:1000){a=a+nums[i]}})
system.time({for(i in 1:1000){a=a+erf(nums[i])}})
nums
system.time({for(i in 1:1000){a=a+nums[i]}})
system.time({for(i in 1:1000){a=a+erf(nums[i])}})
system.time({for(i in 1:1000){a=exp(-nums[i])}})
system.time({for(i in 1:10000){a=exp(-nums[i])}})
system.time({for(i in 1:100000){a=exp(-nums[i])}})
nums[1]
nums[2]
nums[10000]
nums=rep(rnorm(1),100000)
system.time({for(i in 1:100000){a=erf(nums[i])}})
system.time({for(i in 1:100000){a=exp(-nums[i])}})
erf(Inf)
??erf
require('VGAM')
erf(Inf)
erf(0)
erf(-Inf)
matrix(c(c(1,0,0,0),c(0,1,0,0),c(0,0,1,0),c(0,0,0,1)))
matrix(c(c(1,0,0,0),c(0,1,0,0),c(0,0,1,0),c(0,0,0,1)),4,4)
matrix(c(c(1,0,0,0),c(0,1,0,0),c(0,0,1,0),c(0,0,0,1)),4,4)
cbind(c(cos(gamma),-sin(gamma)),c(sin(gamma),cos(gamma)))
gamma=base::pi/2
sin(gamma)
cbind(c(cos(gamma),-sin(gamma)),c(sin(gamma),cos(gamma)))
rbind(c(cos(gamma),-sin(gamma)),c(sin(gamma),cos(gamma)))
Sigma_z_init=matrix(c(c(1,0,0,0),c(0,1,0,0),c(0,0,cos(gamma),-sin(gamma)),c(0,0,sin(gamma),cos(gamma))),ndim*2,ndim*2)
ndim=2
Sigma_z_init=matrix(c(c(1,0,0,0),c(0,1,0,0),c(0,0,cos(gamma),-sin(gamma)),c(0,0,sin(gamma),cos(gamma))),ndim*2,ndim*2)
Sigma_z_init
Sigma_z_init=matrix(c(c(1,0,0,0),c(0,1,0,0),c(0,0,cos(gamma),sin(gamma)),c(0,0,-sin(gamma),cos(gamma))),ndim*2,ndim*2)
Sigma_z_init
gamma=base::pi/4
Sigma_z_init=matrix(c(c(1,0,0,0),c(0,1,0,0),c(0,0,cos(gamma),sin(gamma)),c(0,0,-sin(gamma),cos(gamma))),ndim*2,ndim*2)
Sigma_z_init
sin(gamma)
cos(gamma)
temp=matrix(c(c(1,0,0,0),c(0,1,0,0),c(0,0,cos(gamma),sin(gamma)),c(0,0,-sin(gamma),cos(gamma))),ndim*2,ndim*2)
help('pMatrix')
require('Matrix')
help('pMatrix')
x <- c(1,3,2,4)
diag(length(x))[x,]
x <- c(1,3,2,4)
P=diag(length(x))[x,]
M=P%*%temp%*%t(P)
M
M[x,x]
M=P%*%temp%*%t(P)
M
help resetClass()
??global
??appearence
??appearance
sAM20456#
sAM20456#
out_name=strcat(out_path,'Argo_data_r_ready_',num2str(ii,'%02.f'),'.mat');
matdat_filename=paste(path,'/RData/Argo_data_r_ready_',month_id,'.mat',sep='')
path='/home/sam/Dropbox/Argo Project/'
matdat_filename=paste(path,'/RData/Argo_data_r_ready_',month_id,'.mat',sep='')
str_pad(anim, 6, pad = "0")
str_pad(1, 6, pad = "0")
formatC('1', width = 2, format = "d", flag = "0")
formatC(anim, width = 6, format = "d", flag = "0")
formatC(1, width = 6, format = "d", flag = "0")
formatC(1, width = 2, format = "d", flag = "0")
formatC(12, width = 2, format = "d", flag = "0")
paste(path,'/RData/argo_data_',formatC(month_id,width = 2,format = "d",flag = "0"),'.Rdat',sep='')
month_id=1
paste(path,'/RData/argo_data_',formatC(month_id,width = 2,format = "d",flag = "0"),'.Rdat',sep='')\
paste(path,'/RData/argo_data_',formatC(month_id,width = 2,format = "d",flag = "0"),'.Rdat',sep='')
file.exists(paste(path,'MatData/Argo_data_r_ready_',formatC(month_id,width = 2,format = "d",flag = "0"),'.mat',sep=''))
month_id
paste(path,'MatData/Argo_data_r_ready_',formatC(month_id,width = 2,format = "d",flag = "0"),'.mat',sep='')
a<<-9
pi
setwd("C:/Users/samjb/Dropbox/LatentSpaceResponseModels")
setwd("C:/Users/samjb/Dropbox/LatentSpaceResponseModels/MCMC Template")
install.packages('VerbAggr')
install.packages('VerbAgg')
install.packages('verebal')
install.packages('verbal')
install.packages('irtrees')
require('irtrees')
data('VerbAgg')
data('VerbAgg3')
X=data('VerbAgg3')
X
VerbAgg3
rawdata=read.table('../Data/charity.dat')
assign("X",rawdata[!apply(is.na(rawdata),1,any),],envir=.GlobalEnv)
assign('nz',dim(X)[1],envir=.GlobalEnv)
assign('nw',dim(X)[2],envir=.GlobalEnv)
X
M=10000
myseed=256
config_number=1
plot_iter=10
load_data=load_charity_data
ordinal=T
# load_data=load_
save_filename=file.path(paste('Saved_output/saved_output_config_',config_number,'_seed_',myseed,'_data_',dataname,sep=''))
load(save_filename,verb=T)
setwd("C:/Users/samjb/Dropbox/LatentSpaceResponseModels/MCMC Template")
M=10000
myseed=256
config_number=1
plot_iter=10
load_data=load_charity_data
ordinal=T
# load_data=load_spelling_da
require('invgamma')
require('ggplot2')
require('pdist')
require('ggforce')
require('progress')
source('update_functions.R')
source('init_sampler.R')
source('data_funs.R')
M=10000
myseed=256
config_number=1
plot_iter=10
load_data=load_charity_data
ordinal=T
# load_data=load_spelling
save_filename=file.path(paste('Saved_output/saved_output_config_',config_number,'_seed_',myseed,'_data_',dataname,sep=''))
load_data()
save_filename=file.path(paste('Saved_output/saved_output_config_',config_number,'_seed_',myseed,'_data_',dataname,sep=''))
load(save_filename,verb=T)
tt=do.call('rbind',unlist(stored_parameters$sigma))
tt=do.call('rbind',stored_parameters$sigma)
tt
order_stat=apply(do.call('rbind',stored_parameters$sigma),2,mean)
order_stat
relabeled_parameters$K_w[[1]]
relabeled_parameters=stored_parameters
relabeled_parameters$K_w[[1]]
order_stat
order(order_stat)
relabeled_parameters$K_w[[1]][order_stat]
relabeled_parameters$K_w[[ii]]=as.factor(relabeled_parameters$K_w[[ii]])
relabeled_parameters$K_w[[ii]]=factor(relabeled_parameters$K_w[[ii]])
ii=10
relabeled_parameters$K_w[[ii]]=factor(relabeled_parameters$K_w[[ii]])
relabeled_parameters$K_w[[ii]]
order_stat=relabeled_parameters[[order_var]]
order_var='sigma'
order_stat=relabeled_parameters[[order_var]]
new_ordering=order(order_stat)
order_stat
order_stat=relabeled_parameters[[order_var]][[ii]]
new_ordering=order(order_stat)
new_ordering
order_stat
ii=10000
order_stat=relabeled_parameters[[order_var]][[ii]]
ii=2412
order_stat=relabeled_parameters[[order_var]][[ii]]
order_stat
new_ordering=order(order_stat)
new_ordering
relabeled_parameters$sigma[new_ordering]
relabeled_parameters$sigma[[ii]][new_ordering]
order_stat
relabeled_parameters$mu[[ii]][new_ordering,]
relabeled_parameters$mu[[ii]]
relabeled_parameters$K_w[[ii]]
factor(relabeled_parameters$K_w[[ii]],levels=new_ordering)
help(factor)
factor(relabeled_parameters$K_w[[ii]],labels=new_ordering)
ncluster=2
relabeled_parameters$K_w[[ii]]
factor(relabeled_parameters$K_w[[ii]],levels=1:ncluster,labels=new_ordering)
ncluster
ncluster=length(unique(stored_parameters$K_z[[1]]))
ncluster
cluster_relabeling<-function(stored_parameters,order_var='sigma')
{
ncluster=length(unique(stored_parameters$K_z[[1]]))
relabeled_parameters=stored_parameters
for(ii in 1:length(stored_parameters))
{
order_stat=relabeled_parameters[[order_var]][[ii]]
new_ordering=order(order_stat)
relabeled_parameters$sigma=relabeled_parameters$sigma[[ii]][new_ordering]
relabeled_parameters$mu=relabeled_parameters$mu[[ii]][new_ordering,]
relabeled_parameters$K_w[[ii]]=factor(relabeled_parameters$K_w[[ii]],levels=1:ncluster,labels=new_ordering)
relabeled_parameters$K_z[[ii]]=factor(relabeled_parameters$K_z[[ii]],levels=1:ncluster,labels=new_ordering)
}
return(relabeled_parameters)
}
X=VerbAgg3
X
X=VerbAgg3-1
X
source('C:/Users/samjb/Dropbox/LatentSpaceResponseModels/MCMC Template/data_funs.R', echo=TRUE)
source('C:/Users/samjb/Dropbox/LatentSpaceResponseModels/MCMC Template/mcmc_sampler.R', echo=TRUE)
load_verbal_agression_data()
X
dim(X)
nz
nw
ordinals
summary(c(X))
X
summary(X)
names(X)
summary(c(VerbAgg3[,3:]))
summary(c(VerbAgg3[,3:dim(X)[2]]))
assign("X",VerbAgg3[,3:dim(VerbAgg3)[2]]-1,envir=.GlobalEnv)
assign('nz',dim(X)[1],envir=.GlobalEnv)
assign('nw',dim(X)[2],envir=.GlobalEnv)
assign("dataname","verbagg",envir=.GlobalEnv)
ordinal_categories=unique(c(as.matrix(X)))
ordinal_categories
source('C:/Users/samjb/Dropbox/LatentSpaceResponseModels/MCMC Template/mcmc_sampler.R', echo=TRUE)
